#include "zcommon.acs"

#define MAX_LEVELS 16
#define JUNCTION_LEVELNUM 2
//#define DEBUGSCRIPT

world bool 1:exitedLevels[MAX_LEVELS] = {false}; // FIXME: You need only one counter

#ifdef DEBUGSCRIPT
script CheckLevelExits ENTER {
	ACS_BeginPrint();
	for(int i = 0; i < MAX_LEVELS; i++) {
		__nprintf("%d ", exitedLevels[i]);
	}
	ACS_EndPrint();
}
#endif

script 777(int spotnum) {
	exitedLevels[GetLevelInfo(LEVELINFO_LEVELNUM)] = true;
	Teleport_NewMap(JUNCTION_LEVELNUM, spotnum, 0);
}


script "fireextfade" (int mode) {
	if(mode) {
		Sector_SetFade(0, 255, 255, 255);
	} else {
		Sector_SetFade(0, 0, 0, 0);
	}
}